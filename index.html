<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Barathan Aslan - CV</title>
    <!-- 98.css for the retro UI -->
    <link rel="stylesheet" href="https://unpkg.com/98.css">
    <!-- Custom styles -->
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="screen-layout">
        <!-- Desktop Icons -->
        <div class="desktop-icons">
            <div class="desktop-icon" ondblclick="openMyComputer()">
                <img src="https://win98icons.alexmeub.com/icons/png/computer_explorer-4.png" alt="My Computer">
                <span>My Computer</span>
            </div>
            <div class="desktop-icon" ondblclick="showClippy()">
                <img src="https://win98icons.alexmeub.com/icons/png/recycle_bin_full-4.png" alt="Recycle Bin">
                <span>Recycle Bin</span>
            </div>
            <div class="desktop-icon" ondblclick="showClippy()">
                <img src="https://win98icons.alexmeub.com/icons/png/directory_closed-4.png" alt="My Documents">
                <span>My Documents</span>
            </div>
            <div class="desktop-icon" ondblclick="showClippy()">
                <img src="https://win98icons.alexmeub.com/icons/png/msie1-4.png" alt="Internet Explorer">
                <span>Internet Explorer</span>
            </div>
            <div class="desktop-icon" ondblclick="showClippy()">
                <img src="https://win98icons.alexmeub.com/icons/png/notepad-5.png" alt="Notepad">
                <span>Notepad</span>
            </div>
            <div class="desktop-icon" ondblclick="openMail()">
                <img src="https://win98icons.alexmeub.com/icons/png/outlook_express-4.png" alt="Send Mail">
                <span>Send Mail</span>
            </div>
            <!-- New CV Icon -->
            <div class="desktop-icon" ondblclick="openCV()">
                <img src="https://win98icons.alexmeub.com/icons/png/file_lines-0.png" alt="CV Doc">
                <span>CV - Barathan Aslan.doc</span>
            </div>
        </div>

        <!-- Main Window (CV) -->
        <div class="window main-window" id="cv-window" style="display: none;">
            <!-- Hidden by default initially or managed by script -->
            <div class="title-bar" id="cv-title-bar">
                <div class="title-bar-text">CV - Barathan Aslan.doc</div>
                <div class="title-bar-controls">
                    <button aria-label="Minimize" onclick="minimizeWindow()"></button>
                    <button aria-label="Maximize" onclick="maximizeWindow()"></button>
                    <button aria-label="Close" onclick="closeWindow()"></button>
                </div>
            </div>
            <div class="window-body">
                <div class="toolbar status-bar">
                    <button onclick="exportPDF()" style="font-weight: bold;">Export PDF</button>
                    <p class="status-bar-field">Press button to save as PDF</p>
                </div>

                <div class="cv-content">
                    <!-- Header with name and contact info -->
                    <header>
                        <h1><a href="https://www.linkedin.com/in/barathanaslan/">Barathan Aslan</a></h1>
                        <div class="contact-info">
                            Ä°stanbul, TÃ¼rkiye<br>
                            <a href="mailto:barathanasln@gmail.com">barathanasln@gmail.com</a>
                        </div>
                    </header>

                    <div class="section-divider"></div>

                    <!-- Profile section -->
                    <section class="profile">
                        <div class="section-heading">PROFILE</div>
                        <p>
                            Senior Computer Engineering student at BoÄŸaziÃ§i University with a fascination for pattern
                            recognition and prediction. I apply this natural tendency across domainsâ€”from training ML &
                            LLM
                            models to analyzing markets. I apply this natural tendency across domainsâ€”from training ML &
                            LLM models to analyzing markets. I value the process over outcomes. I express myself through
                            music and explore interconnections in economics, international politics, and history.
                            Constantly
                            seeking to understand how systems work, predict how they'll evolve, and learn from both
                            success and failure.
                        </p>
                    </section>

                    <div class="section-divider"></div>

                    <!-- Education section -->
                    <section class="education">
                        <div class="section-heading">EDUCATION</div>
                        <div class="two-column">
                            <div class="column-left">2021â€” Present</div>
                            <div class="column-right" style="display: flex; justify-content: space-between;">
                                <div>Computer Engineering, BoÄŸaziÃ§i University</div>
                                <div>Ä°stanbul</div>
                            </div>
                        </div>
                    </section>

                    <div class="section-divider"></div>

                    <!-- Languages section -->
                    <section class="languages">
                        <div class="section-heading">LANGUAGES</div>
                        <div class="language-item">
                            <span>English</span>
                            <span>Highly proficient</span>
                        </div>
                        <div class="language-item">
                            <span>Spanish</span>
                            <span>Beginner</span>
                        </div>
                    </section>

                    <div class="section-divider"></div>

                    <!-- Experience section -->
                    <section class="experience">
                        <div class="section-heading">EXPERIENCE</div>

                        <div class="job">
                            <div class="two-column">
                                <div class="column-left">
                                    <div class="job-company">Pegasus</div>
                                    <div class="job-title">Associate Data Scientist</div>
                                    <div class="job-period">July-Present 2025</div>
                                </div>
                                <div class="column-right">
                                    <div class="job-details">
                                        <ul>
                                            <li>Currently working on data science projects and analytics initiatives.
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="job">
                            <div class="two-column">
                                <div class="column-left">
                                    <div class="job-company">Fimple</div>
                                    <div class="job-title">AI Intern</div>
                                    <div class="job-period">June-August 2024</div>
                                </div>
                                <div class="column-right">
                                    <div class="job-details">
                                        <ul>
                                            <li>Prioritized local open-source language models to address privacy
                                                concerns. Developed a local chatbot agent enhanced with RAG techniques
                                                for the purpose of serving developers using document-based knowledge
                                                retrieval.</li>
                                            <li>Partially developed and conducted in-depth research on natural language
                                                to SQL query language models aimed at empowering banking personnel with
                                                limited technical expertise.</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="job">
                            <div class="two-column">
                                <div class="column-left">
                                    <div class="job-company">Doping Technology</div>
                                    <div class="job-title">Software Engineering Intern</div>
                                    <div class="job-period">June-August 2023</div>
                                </div>
                                <div class="column-right">
                                    <div class="job-details">
                                        <ul>
                                            <li>Developed a REST API using a pre-trained BERT model to classify customer
                                                issues.</li>
                                            <li>Contributed to TÃ¼rkiye's first big chatbot agent project: Dopi AI.
                                                Implemented prompt engineering techniques in the process and made
                                                research on both open source and closed source models. Carried out
                                                project development and competition analysis.</li>
                                            <li>Took part in creating No-Code App Development education content.</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>

                    <div class="section-divider"></div>

                    <!-- Profiles section -->
                    <section class="profiles">
                        <div class="section-heading">PROFILES</div>

                        <div class="profile-item">
                            <div class="profile-platform">Kaggle</div>
                            <div class="profile-handle"><a
                                    href="https://www.kaggle.com/barathanaslan">@barathanaslan</a></div>
                            <div>Competitions, Dataset Creation, ML Models</div>
                        </div>

                        <div class="profile-item">
                            <div class="profile-platform">Github</div>
                            <div class="profile-handle"><a href="https://github.com/barathanaslan">@barathanaslan</a>
                            </div>
                            <div>Internship Projects & Personal Projects</div>
                        </div>

                        <div class="profile-item">
                            <div class="profile-platform">Huggingface</div>
                            <div class="profile-handle"><a href="https://huggingface.co/barathanasln">@barathanasln</a>
                            </div>
                            <div>Work On Various Language & Image Models, Synthetic Data Creation</div>
                        </div>
                    </section>

                    <div class="section-divider"></div>

                    <!-- Certifications section -->
                    <section class="certifications">
                        <div class="section-heading">CERTIFICATIONS AND COURSES</div>

                        <ul class="cert-list">
                            <li>ANBEAN Finans ve YatÄ±rÄ±m Okulu</li>
                            <li>5-Day Gen AI Intensive Course, Kaggle & Google</li>
                            <li><a
                                    href="https://www.coursera.org/account/accomplishments/specialization/TY5DZZNUBTTN?utm_source=link&utm_medium=certificate&utm_content=cert_image&utm_campaign=sharing_cta&utm_product=s12n">Machine
                                    Learning Specialization, DeepLearning.AI</a>
                                <span class="subitem">Supervised Machine Learning, Advanced Learning Algorithms,
                                    Unsupervised Learning, Recommenders, Reinforcement Learning</span>
                            </li>
                            <li><a
                                    href="https://www.coursera.org/account/accomplishments/specialization/R2Y8XS4FK50U?utm_source=link&utm_medium=certificate&utm_content=cert_image&utm_campaign=sharing_cta&utm_product=s12n">Deep
                                    Learning Specialization, DeepLearning.AI</a>
                                <span class="subitem">Neural Networks and Deep Learning, Improving Deep Neural Networks,
                                    Structuring Machine Learning Projects, Convolutional Neural Networks, Sequence
                                    Models</span>
                            </li>
                            <li><a href="https://www.udemy.com/certificate/UC-6ea5afe0-9955-440d-a947-809e7b568f5b/">Graph
                                    Neural Network, Udemy</a></li>
                            <li>Investment Management with Python and Machine Learning
                                <span class="subitem"><a
                                        href="https://www.coursera.org/account/accomplishments/verify/2Q56SBPO2BLC">Introduction
                                        to Portfolio Construction and Analysis with Python</a>, <a
                                        href="https://www.coursera.org/account/accomplishments/verify/55J64KXCP0K3">Advanced
                                        Portfolio Construction and Analysis with Python</a>, <a
                                        href="https://www.coursera.org/account/accomplishments/verify/TBV01IZTDZHH">Python
                                        and Machine-Learning for Asset Management with Alternative Data Sets</a></span>
                            </li>
                            <li>Reinforcement Learning
                                <span class="subitem"><a
                                        href="https://www.coursera.org/account/accomplishments/verify/PY9CRYCQNVST">Fundamentals
                                        of Reinforcement Learning</a>, <a
                                        href="https://www.coursera.org/account/accomplishments/verify/ZEGEBRR8KF1G">Sample-based
                                        Learning Methods</a></span>
                            </li>
                        </ul>
                    </section>

                    <div class="section-divider"></div>

                    <!-- Events section -->
                    <section class="events">
                        <div class="section-heading">ATTENDED EVENTS</div>

                        <ul class="events-list">
                            <li>AlgoRun Hackathon 2025: 1st place</li>
                            <li>Datathon AI 2024 â€“ ITU AI Club: 1st place (1/91 qualification, 1/30 finals)</li>
                            <li>Trendyol Hackathon 2025: 6th place (out of 302 teams)</li>
                            <li>Teknofest T3 AI Hackathon 2024: Final Stage â€“ built one of the largest and
                                highest-quality synthetic Turkish LLM datasets (~1B tokens)</li>
                            <li>Additional participation in multiple hackathons & datathons</li>
                            <li>AWS Community Day TÃ¼rkiye 2024, Claude Code Meetup Istanbul</li>
                            <li>On-Site visit to TUSAÅž, BIST, TCMB</li>
                        </ul>
                    </section>
                </div> <!-- End cv-content -->
            </div>
            <!-- Resize Handles -->
            <div class="resizer-l"></div>
            <div class="resizer-r"></div>
            <div class="resizer-b"></div>
            <div class="resizer-br"></div>
        </div>

        <!-- My Computer Window -->
        <div class="window folder-window" id="mycomputer-window" style="display: none !important;">
            <div class="title-bar" id="mycomputer-title-bar">
                <div class="title-bar-text">My Computer</div>
                <div class="title-bar-controls">
                    <button aria-label="Minimize" onclick="minimizeMyComputer()"></button>
                    <button aria-label="Maximize" onclick="maximizeMyComputer()"></button>
                    <button aria-label="Close" onclick="closeMyComputer()"></button>
                </div>
            </div>
            <div class="window-body">
                <div class="toolbar">
                    <p style="font-size: 11px; font-family: 'MS Sans Serif', Arial, sans-serif;">3 object(s)</p>
                </div>
                <div class="folder-content">
                    <div class="folder-item" ondblclick="showClippy()">
                        <img src="https://win98icons.alexmeub.com/icons/png/computer-4.png" alt="Computer">
                        <span>Barathan'sMacBook</span>
                    </div>
                    <div class="folder-item" ondblclick="showClippy()">
                        <img src="https://win98icons.alexmeub.com/icons/png/computer-4.png" alt="Computer">
                        <span>Barathan'sMacStudio</span>
                    </div>
                    <div class="folder-item" ondblclick="showClippy()">
                        <img src="https://win98icons.alexmeub.com/icons/png/computer-4.png" alt="Computer">
                        <span>BarathanNeedsRAMforCudaSetup</span>
                    </div>
                </div>
            </div>
            <!-- Resize Handles -->
            <div class="resizer-l"></div>
            <div class="resizer-r"></div>
            <div class="resizer-b"></div>
            <div class="resizer-br"></div>
        </div>

        <!-- Send Mail Window -->
        <div class="window mail-window" id="mail-window" style="display: none !important;">
            <div class="title-bar" id="mail-title-bar">
                <div class="title-bar-text">Send Mail</div>
                <div class="title-bar-controls">
                    <button aria-label="Minimize" onclick="minimizeMail()"></button>
                    <button aria-label="Maximize" onclick="maximizeMail()"></button>
                    <button aria-label="Close" onclick="closeMail()"></button>
                </div>
            </div>
            <div class="window-body">
                <form action="https://formsubmit.co/barathanasln@gmail.com" method="POST" class="mail-form">
                    <input type="hidden" name="_subject" value="Message from CV Website">
                    <input type="hidden" name="_captcha" value="true">
                    <input type="hidden" name="_next" value="https://barathanaslan.github.io/BarathanAslan/">
                    <div class="mail-field">
                        <label>From:</label>
                        <input type="email" name="email" placeholder="your@email.com" required>
                    </div>
                    <div class="mail-field">
                        <label>Subject:</label>
                        <input type="text" name="_subject" placeholder="Subject">
                    </div>
                    <div class="mail-body-field">
                        <textarea name="message" placeholder="Write your message here..." required></textarea>
                    </div>
                    <div class="mail-toolbar">
                        <button type="submit">Send</button>
                    </div>
                </form>
            </div>
            <!-- Resize Handles -->
            <div class="resizer-l"></div>
            <div class="resizer-r"></div>
            <div class="resizer-b"></div>
            <div class="resizer-br"></div>
        </div>

        <!-- Taskbar -->
        <div class="taskbar">
            <button class="start-button" onclick="showClippy()">
                <img src="https://win98icons.alexmeub.com/icons/png/windows-0.png" alt="Start">
                <b>Start</b>
            </button>
            <div class="taskbar-divider"></div>
            <div class="task-button" onclick="toggleMyComputer()" id="taskbar-mycomputer" style="display: none;">
                <img src="https://win98icons.alexmeub.com/icons/png/computer_explorer-4.png" alt="My Computer">
                My Computer
            </div>
            <div class="task-button" onclick="toggleMail()" id="taskbar-mail" style="display: none;">
                <img src="https://win98icons.alexmeub.com/icons/png/outlook_express-4.png" alt="Send Mail">
                Send Mail
            </div>
            <div class="task-button" onclick="toggleWindow()" id="taskbar-cv" style="display: none;">
                <img src="https://win98icons.alexmeub.com/icons/png/wordpad-0.png" alt="CV">
                CV - Baratha...
            </div>
            <div class="taskbar-time">04:20 PM</div>
        </div>
    </div>

    <!-- Clippy Popup -->
    <div id="clippy-popup" class="clippy-popup">
        <div class="clippy-img"></div>
        <div class="clippy-bubble">
            <p>It looks like you're trying to open something I haven't worked on yet!</p>
            <p style="font-size: 11px; margin-top: 5px;">Maybe later... ðŸ“Ž</p>
        </div>
    </div>

    <script>
        const cvWindow = document.getElementById('cv-window');
        const taskbarBtn = document.getElementById('taskbar-cv');
        const titleBar = document.getElementById('cv-title-bar');

        const mcWindow = document.getElementById('mycomputer-window');
        const mcTaskbarBtn = document.getElementById('taskbar-mycomputer');
        const mcTitleBar = document.getElementById('mycomputer-title-bar');

        const mailWindow = document.getElementById('mail-window');
        const mailTaskbarBtn = document.getElementById('taskbar-mail');
        const mailTitleBar = document.getElementById('mail-title-bar');

        // Clippy popup
        const clippyPopup = document.getElementById('clippy-popup');
        let clippyTimeout;

        function showClippy() {
            // Clear any existing timeout
            if (clippyTimeout) clearTimeout(clippyTimeout);

            // Remove fade-out class and show
            clippyPopup.classList.remove('fade-out');
            clippyPopup.classList.add('show');

            // Auto-hide after 3 seconds
            clippyTimeout = setTimeout(() => {
                clippyPopup.classList.add('fade-out');
                setTimeout(() => {
                    clippyPopup.classList.remove('show', 'fade-out');
                }, 300);
            }, 3000);
        }

        // Open/Close Logic
        function openCV() {
            cvWindow.style.setProperty('display', 'flex', 'important');
            taskbarBtn.style.display = 'flex';
            taskbarBtn.classList.add('active');

            // Bring to front or ensure initial center if not set
            // Check if top/left are set. If not (first open), calculate center.
            if (!cvWindow.style.left) {
                centerWindow();
            }
        }

        function centerWindow() {
            const rect = cvWindow.getBoundingClientRect();
            const winWidth = window.innerWidth;
            const winHeight = window.innerHeight;

            // Default size 900x600 if not set
            const width = rect.width || 900;
            const height = rect.height || 600;

            const left = (winWidth - width) / 2;
            const top = (winHeight - height) / 2 > 0 ? (winHeight - height) / 2 : 50;

            cvWindow.style.width = `${width}px`;
            cvWindow.style.left = `${left}px`;
            cvWindow.style.top = `${top}px`;
            cvWindow.style.transform = 'none'; // Ensure no CSS transform
            cvWindow.style.margin = '0'; // Ensure no margin auto
        }

        function closeWindow() {
            cvWindow.style.setProperty('display', 'none', 'important');
            taskbarBtn.style.display = 'none';
            taskbarBtn.classList.remove('active');
        }

        function minimizeWindow() {
            cvWindow.style.setProperty('display', 'none', 'important');
            taskbarBtn.classList.remove('active');
        }

        function maximizeWindow() {
            // Simplified maximize logic
            if (cvWindow.dataset.state === 'maximized') {
                // Restore
                cvWindow.style.width = cvWindow.dataset.prevWidth || '900px';
                cvWindow.style.height = cvWindow.dataset.prevHeight || '';
                cvWindow.style.top = cvWindow.dataset.prevTop || '50px';
                cvWindow.style.left = cvWindow.dataset.prevLeft || '100px';
                cvWindow.dataset.state = 'normal';
                // No transform needed
            } else {
                // Save current state
                cvWindow.dataset.prevWidth = cvWindow.style.width;
                cvWindow.dataset.prevHeight = cvWindow.style.height;
                cvWindow.dataset.prevTop = cvWindow.style.top;
                cvWindow.dataset.prevLeft = cvWindow.style.left;

                // Maximize
                cvWindow.style.width = '100vw';
                cvWindow.style.height = 'calc(100vh - 28px)'; // Subtract taskbar
                cvWindow.style.top = '0';
                cvWindow.style.left = '0';
                cvWindow.dataset.state = 'maximized';
            }
        }

        function toggleWindow() {
            if (cvWindow.style.display === 'none' || getComputedStyle(cvWindow).display === 'none') {
                cvWindow.style.setProperty('display', 'flex', 'important');
                // Ensure centered if first time
                if (!cvWindow.style.left) centerWindow();
                taskbarBtn.classList.add('active');
            } else {
                cvWindow.style.setProperty('display', 'none', 'important');
                taskbarBtn.classList.remove('active');
            }
        }

        // Dragging Logic
        makeDraggable(titleBar, cvWindow);


        // Resizing Logic (works for any window with .resizer-* children)
        const MIN_WIDTH = 300;
        const MIN_HEIGHT = 200;
        const MAX_WIDTH = window.innerWidth;
        const MAX_HEIGHT = window.innerHeight;

        document.querySelectorAll('.resizer-r, .resizer-b, .resizer-br, .resizer-l').forEach(resizer => {
            resizer.addEventListener('mousedown', (e) => {
                const win = resizer.closest('.window');
                const sx = e.clientX, sy = e.clientY;
                const rect = win.getBoundingClientRect();
                const iw = rect.width, ih = rect.height, il = rect.left;
                e.preventDefault();

                const onMove = (e) => {
                    const dx = e.clientX - sx, dy = e.clientY - sy;
                    if (resizer.classList.contains('resizer-r')) {
                        win.style.width = `${Math.min(Math.max(iw + dx, MIN_WIDTH), MAX_WIDTH)}px`;
                    } else if (resizer.classList.contains('resizer-b')) {
                        win.style.height = `${Math.min(Math.max(ih + dy, MIN_HEIGHT), MAX_HEIGHT)}px`;
                    } else if (resizer.classList.contains('resizer-br')) {
                        win.style.width = `${Math.min(Math.max(iw + dx, MIN_WIDTH), MAX_WIDTH)}px`;
                        win.style.height = `${Math.min(Math.max(ih + dy, MIN_HEIGHT), MAX_HEIGHT)}px`;
                    } else if (resizer.classList.contains('resizer-l')) {
                        let nw = Math.min(Math.max(iw - dx, MIN_WIDTH), MAX_WIDTH);
                        win.style.width = `${nw}px`;
                        win.style.left = `${il + iw - nw}px`;
                    }
                };
                const onUp = () => {
                    document.removeEventListener('mousemove', onMove);
                    document.removeEventListener('mouseup', onUp);
                };
                document.addEventListener('mousemove', onMove);
                document.addEventListener('mouseup', onUp);
            });
        });

        // My Computer window
        function openMyComputer() {
            mcWindow.style.setProperty('display', 'flex', 'important');
            mcTaskbarBtn.style.display = 'flex';
            mcTaskbarBtn.classList.add('active');
            bringToFront(mcWindow);
        }

        function closeMyComputer() {
            mcWindow.style.setProperty('display', 'none', 'important');
            mcTaskbarBtn.style.display = 'none';
            mcTaskbarBtn.classList.remove('active');
        }

        function minimizeMyComputer() {
            mcWindow.style.setProperty('display', 'none', 'important');
            mcTaskbarBtn.classList.remove('active');
        }

        function maximizeMyComputer() {
            if (mcWindow.dataset.state === 'maximized') {
                mcWindow.style.width = mcWindow.dataset.prevWidth || '550px';
                mcWindow.style.height = mcWindow.dataset.prevHeight || '350px';
                mcWindow.style.top = mcWindow.dataset.prevTop || '100px';
                mcWindow.style.left = mcWindow.dataset.prevLeft || '200px';
                mcWindow.dataset.state = 'normal';
            } else {
                mcWindow.dataset.prevWidth = mcWindow.style.width;
                mcWindow.dataset.prevHeight = mcWindow.style.height;
                mcWindow.dataset.prevTop = mcWindow.style.top;
                mcWindow.dataset.prevLeft = mcWindow.style.left;
                mcWindow.style.width = '100vw';
                mcWindow.style.height = 'calc(100vh - 28px)';
                mcWindow.style.top = '0';
                mcWindow.style.left = '0';
                mcWindow.dataset.state = 'maximized';
            }
        }

        function toggleMyComputer() {
            if (mcWindow.style.display === 'none' || getComputedStyle(mcWindow).display === 'none') {
                mcWindow.style.setProperty('display', 'flex', 'important');
                mcTaskbarBtn.classList.add('active');
                bringToFront(mcWindow);
            } else {
                mcWindow.style.setProperty('display', 'none', 'important');
                mcTaskbarBtn.classList.remove('active');
            }
        }

        // Mail window
        function openMail() {
            mailWindow.style.setProperty('display', 'flex', 'important');
            mailTaskbarBtn.style.display = 'flex';
            mailTaskbarBtn.classList.add('active');
            bringToFront(mailWindow);
        }

        function closeMail() {
            mailWindow.style.setProperty('display', 'none', 'important');
            mailTaskbarBtn.style.display = 'none';
            mailTaskbarBtn.classList.remove('active');
        }

        function minimizeMail() {
            mailWindow.style.setProperty('display', 'none', 'important');
            mailTaskbarBtn.classList.remove('active');
        }

        function maximizeMail() {
            if (mailWindow.dataset.state === 'maximized') {
                mailWindow.style.width = mailWindow.dataset.prevWidth || '500px';
                mailWindow.style.height = mailWindow.dataset.prevHeight || '400px';
                mailWindow.style.top = mailWindow.dataset.prevTop || '80px';
                mailWindow.style.left = mailWindow.dataset.prevLeft || '300px';
                mailWindow.dataset.state = 'normal';
            } else {
                mailWindow.dataset.prevWidth = mailWindow.style.width;
                mailWindow.dataset.prevHeight = mailWindow.style.height;
                mailWindow.dataset.prevTop = mailWindow.style.top;
                mailWindow.dataset.prevLeft = mailWindow.style.left;
                mailWindow.style.width = '100vw';
                mailWindow.style.height = 'calc(100vh - 28px)';
                mailWindow.style.top = '0';
                mailWindow.style.left = '0';
                mailWindow.dataset.state = 'maximized';
            }
        }

        function toggleMail() {
            if (mailWindow.style.display === 'none' || getComputedStyle(mailWindow).display === 'none') {
                mailWindow.style.setProperty('display', 'flex', 'important');
                mailTaskbarBtn.classList.add('active');
                bringToFront(mailWindow);
            } else {
                mailWindow.style.setProperty('display', 'none', 'important');
                mailTaskbarBtn.classList.remove('active');
            }
        }

        // Z-index management
        let topZ = 11;
        function bringToFront(win) {
            topZ++;
            win.style.zIndex = topZ;
        }

        // Bring window to front on mousedown
        cvWindow.addEventListener('mousedown', () => bringToFront(cvWindow));
        mcWindow.addEventListener('mousedown', () => bringToFront(mcWindow));
        mailWindow.addEventListener('mousedown', () => bringToFront(mailWindow));

        // Generic drag setup
        function makeDraggable(titleBarEl, windowEl) {
            titleBarEl.addEventListener('mousedown', (e) => {
                if (e.target.closest('button')) return;
                let dragging = true;
                const sx = e.clientX, sy = e.clientY;
                const il = windowEl.offsetLeft, it = windowEl.offsetTop;
                bringToFront(windowEl);

                const onMove = (e) => {
                    if (!dragging) return;
                    windowEl.style.left = `${il + (e.clientX - sx)}px`;
                    windowEl.style.top = `${it + (e.clientY - sy)}px`;
                };
                const onUp = () => {
                    dragging = false;
                    document.removeEventListener('mousemove', onMove);
                    document.removeEventListener('mouseup', onUp);
                };
                document.addEventListener('mousemove', onMove);
                document.addEventListener('mouseup', onUp);
            });
        }
        makeDraggable(mcTitleBar, mcWindow);
        makeDraggable(mailTitleBar, mailWindow);

        // Simple clock
        function updateTime() {
            const now = new Date();
            let hours = now.getHours();
            const minutes = now.getMinutes().toString().padStart(2, '0');
            const ampm = hours >= 12 ? 'PM' : 'AM';
            hours = hours % 12;
            hours = hours ? hours : 12;
            document.querySelector('.taskbar-time').textContent = `${hours}:${minutes} ${ampm}`;
        }
        setInterval(updateTime, 60000);
        updateTime();

        // Open on load
        // Initial center calculation
        // Open on load
        // Initial center calculation
        window.addEventListener('load', () => {
            centerWindow();
            openCV();
            // Reveal the page after positioning is complete
            document.querySelector('.screen-layout').classList.add('ready');
        }); 
    </script>
    <script src="print.js"></script>
</body>

</html>